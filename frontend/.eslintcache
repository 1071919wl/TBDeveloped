[{"/home/oliver/TBDeveloped/frontend/src/index.js":"1","/home/oliver/TBDeveloped/frontend/src/util/session_api_util.js":"2","/home/oliver/TBDeveloped/frontend/src/components/root.js":"3","/home/oliver/TBDeveloped/frontend/src/store/store.js":"4","/home/oliver/TBDeveloped/frontend/src/actions/session_actions.js":"5","/home/oliver/TBDeveloped/frontend/src/reducers/root_reducer.js":"6","/home/oliver/TBDeveloped/frontend/src/components/app.js":"7","/home/oliver/TBDeveloped/frontend/src/reducers/session_reducer.js":"8","/home/oliver/TBDeveloped/frontend/src/reducers/errors_reducer.js":"9","/home/oliver/TBDeveloped/frontend/src/util/route_util.js":"10","/home/oliver/TBDeveloped/frontend/src/components/main/main_page.js":"11","/home/oliver/TBDeveloped/frontend/src/components/session/signup_form_container.js":"12","/home/oliver/TBDeveloped/frontend/src/components/session/login_form_container.js":"13","/home/oliver/TBDeveloped/frontend/src/components/profile/profile_container.js":"14","/home/oliver/TBDeveloped/frontend/src/components/nav/navbar_container.js":"15","/home/oliver/TBDeveloped/frontend/src/components/chatroom/room.js":"16","/home/oliver/TBDeveloped/frontend/src/reducers/session_errors_reducer.js":"17","/home/oliver/TBDeveloped/frontend/src/components/profile/profile.js":"18","/home/oliver/TBDeveloped/frontend/src/components/session/login_form.js":"19","/home/oliver/TBDeveloped/frontend/src/components/session/signup_form.js":"20","/home/oliver/TBDeveloped/frontend/src/components/nav/navbar.js":"21","/home/oliver/TBDeveloped/frontend/src/components/chatroom/create_room.js":"22"},{"size":923,"mtime":1609216573772,"results":"23","hashOfConfig":"24"},{"size":421,"mtime":1609216573790,"results":"25","hashOfConfig":"24"},{"size":286,"mtime":1609216573753,"results":"26","hashOfConfig":"24"},{"size":327,"mtime":1609216573784,"results":"27","hashOfConfig":"24"},{"size":1429,"mtime":1609216573728,"results":"28","hashOfConfig":"24"},{"size":215,"mtime":1609216573777,"results":"29","hashOfConfig":"24"},{"size":931,"mtime":1609277358644,"results":"30","hashOfConfig":"24"},{"size":788,"mtime":1609216573781,"results":"31","hashOfConfig":"24"},{"size":177,"mtime":1609216573775,"results":"32","hashOfConfig":"24"},{"size":1234,"mtime":1609264581406,"results":"33","hashOfConfig":"24"},{"size":325,"mtime":1609216573734,"results":"34","hashOfConfig":"24"},{"size":448,"mtime":1609216573764,"results":"35","hashOfConfig":"24"},{"size":402,"mtime":1609216573759,"results":"36","hashOfConfig":"24"},{"size":229,"mtime":1609216573749,"results":"37","hashOfConfig":"24"},{"size":283,"mtime":1609216573744,"results":"38","hashOfConfig":"24"},{"size":4145,"mtime":1609277358711,"results":"39","hashOfConfig":"24"},{"size":415,"mtime":1609216573779,"results":"40","hashOfConfig":"24"},{"size":296,"mtime":1609264581403,"results":"41","hashOfConfig":"24"},{"size":1548,"mtime":1609221244284,"results":"42","hashOfConfig":"24"},{"size":2317,"mtime":1609216573762,"results":"43","hashOfConfig":"24"},{"size":1197,"mtime":1609277358749,"results":"44","hashOfConfig":"24"},{"size":453,"mtime":1609277358662,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"x4743s",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"48"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/oliver/TBDeveloped/frontend/src/index.js",[],["94","95"],"/home/oliver/TBDeveloped/frontend/src/util/session_api_util.js",[],"/home/oliver/TBDeveloped/frontend/src/components/root.js",[],"/home/oliver/TBDeveloped/frontend/src/store/store.js",[],"/home/oliver/TBDeveloped/frontend/src/actions/session_actions.js",[],"/home/oliver/TBDeveloped/frontend/src/reducers/root_reducer.js",[],"/home/oliver/TBDeveloped/frontend/src/components/app.js",[],"/home/oliver/TBDeveloped/frontend/src/reducers/session_reducer.js",["96"],"import { RECEIVE_CURRENT_USER, RECEIVE_USER_LOGOUT, RECEIVE_USER_SIGN_IN} from '../actions/session_actions'\n\nconst initialState = { isAuthenticated: false, user: {} };\n\nexport default function(state = initialState, action) {\n\n    switch (action.type) {\n        case RECEIVE_CURRENT_USER:\n            return { \n                ...state,\n                isAuthenticated: !!action.currentUser,\n                user: action.currentUser\n            };\n            \n        case RECEIVE_USER_SIGN_IN:\n            return { \n                ...state,\n                isSignedIn: true\n            }\n\n        case RECEIVE_USER_LOGOUT:\n            return {\n            isAuthenticated: false,\n            user: undefined\n            };\n\n        default:\n            return state;\n\n        \n    }\n\n}\n","/home/oliver/TBDeveloped/frontend/src/reducers/errors_reducer.js",[],"/home/oliver/TBDeveloped/frontend/src/util/route_util.js",[],"/home/oliver/TBDeveloped/frontend/src/components/main/main_page.js",[],"/home/oliver/TBDeveloped/frontend/src/components/session/signup_form_container.js",[],"/home/oliver/TBDeveloped/frontend/src/components/session/login_form_container.js",[],"/home/oliver/TBDeveloped/frontend/src/components/profile/profile_container.js",[],"/home/oliver/TBDeveloped/frontend/src/components/nav/navbar_container.js",[],"/home/oliver/TBDeveloped/frontend/src/components/chatroom/room.js",["97"],"import React, { useRef, useEffect } from \"react\";\nimport io from \"socket.io-client\";\n\nconst Room = (props) => {\n    const userVideo = useRef();\n    const partnerVideo = useRef();\n    const peerRef = useRef();\n    const socketRef = useRef();\n    const otherUser = useRef();\n    const userStream = useRef();\n\n    useEffect(() => {\n        navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(stream => {\n            userVideo.current.srcObject = stream;\n            userStream.current = stream;\n\n            socketRef.current = io.connect(\"/\");\n            socketRef.current.emit(\"join room\", props.match.params.roomID);\n\n            socketRef.current.on('other user', userID => {\n                callUser(userID);\n                otherUser.current = userID;\n            });\n\n            socketRef.current.on(\"user joined\", userID => {\n                otherUser.current = userID;\n            });\n\n            socketRef.current.on(\"offer\", handleRecieveCall);\n\n            socketRef.current.on(\"answer\", handleAnswer);\n\n            socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n        });\n\n    }, []);\n\n    function callUser(userID) {\n        peerRef.current = createPeer(userID);\n        userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n    }\n\n    function createPeer(userID) {\n        const peer = new RTCPeerConnection({\n            iceServers: [\n                {\n                    urls: \"stun:stun.stunprotocol.org\"\n                },\n                {\n                    urls: 'turn:numb.viagenie.ca',\n                    credential: 'muazkh',\n                    username: 'webrtc@live.com'\n                },\n            ]\n        });\n\n        peer.onicecandidate = handleICECandidateEvent;\n        peer.ontrack = handleTrackEvent;\n        peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n\n        return peer;\n    }\n\n    function handleNegotiationNeededEvent(userID) {\n        peerRef.current.createOffer().then(offer => {\n            return peerRef.current.setLocalDescription(offer);\n        }).then(() => {\n            const payload = {\n                target: userID,\n                caller: socketRef.current.id,\n                sdp: peerRef.current.localDescription\n            };\n            socketRef.current.emit(\"offer\", payload);\n        }).catch(e => console.log(e));\n    }\n\n    function handleRecieveCall(incoming) {\n        peerRef.current = createPeer();\n        const desc = new RTCSessionDescription(incoming.sdp);\n        peerRef.current.setRemoteDescription(desc).then(() => {\n            userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n        }).then(() => {\n            return peerRef.current.createAnswer();\n        }).then(answer => {\n            return peerRef.current.setLocalDescription(answer);\n        }).then(() => {\n            const payload = {\n                target: incoming.caller,\n                caller: socketRef.current.id,\n                sdp: peerRef.current.localDescription\n            }\n            socketRef.current.emit(\"answer\", payload);\n        })\n    }\n\n    function handleAnswer(message) {\n        const desc = new RTCSessionDescription(message.sdp);\n        peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\n    }\n\n    function handleICECandidateEvent(e) {\n        if (e.candidate) {\n            const payload = {\n                target: otherUser.current,\n                candidate: e.candidate,\n            }\n            socketRef.current.emit(\"ice-candidate\", payload);\n        }\n    }\n\n    function handleNewICECandidateMsg(incoming) {\n        const candidate = new RTCIceCandidate(incoming);\n\n        peerRef.current.addIceCandidate(candidate)\n            .catch(e => console.log(e));\n    }\n\n    function handleTrackEvent(e) {\n        partnerVideo.current.srcObject = e.streams[0];\n    };\n\n    return (\n        <div>\n            <p>Hello</p>\n            <video autoPlay ref={userVideo} muted/>\n            <video autoPlay ref={partnerVideo} />\n        </div>\n    );\n};\n\nexport default Room;","/home/oliver/TBDeveloped/frontend/src/reducers/session_errors_reducer.js",[],"/home/oliver/TBDeveloped/frontend/src/components/profile/profile.js",["98"],"import React from 'react';\n\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    \n\n    render() {\n        return(\n        <div>\n            <h2>{this.props.currentUser.username}'s Profile</h2>\n        </div>\n        )\n    }\n}\n\nexport default Profile;","/home/oliver/TBDeveloped/frontend/src/components/session/login_form.js",[],"/home/oliver/TBDeveloped/frontend/src/components/session/signup_form.js",[],"/home/oliver/TBDeveloped/frontend/src/components/nav/navbar.js",[],"/home/oliver/TBDeveloped/frontend/src/components/chatroom/create_room.js",[],{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":5,"column":1,"nodeType":"105","endLine":33,"endColumn":2},{"ruleId":"106","severity":1,"message":"107","line":36,"column":8,"nodeType":"108","endLine":36,"endColumn":10,"suggestions":"109"},{"ruleId":"110","severity":1,"message":"111","line":5,"column":5,"nodeType":"112","messageId":"113","endLine":7,"endColumn":6},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'callUser', 'handleRecieveCall', and 'props.match.params.roomID'. Either include them or remove the dependency array.","ArrayExpression",["116"],"no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},"Update the dependencies array to be: [callUser, handleRecieveCall, props.match.params.roomID]",{"range":"119","text":"120"},[1132,1134],"[callUser, handleRecieveCall, props.match.params.roomID]"]